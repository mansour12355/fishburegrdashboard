import{addDoc as Yr,collection as bs,serverTimestamp as Zr,query as Qr,orderBy as to,onSnapshot as eo}from"https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();const no=()=>{};var $i={};const Ss=function(n){const e=[];let i=0;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},io=function(n){const e=[];let i=0,o=0;for(;i<n.length;){const a=n[i++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=n[i++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=n[i++],f=n[i++],I=n[i++],v=((a&7)<<18|(c&63)<<12|(f&63)<<6|I&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const c=n[i++],f=n[i++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Cs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<n.length;a+=3){const c=n[a],f=a+1<n.length,I=f?n[a+1]:0,v=a+2<n.length,A=v?n[a+2]:0,R=c>>2,b=(c&3)<<4|I>>4;let T=(I&15)<<2|A>>6,V=A&63;v||(V=64,f||(T=64)),o.push(i[R],i[b],i[T],i[V])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ss(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):io(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<n.length;){const c=i[n.charAt(a++)],I=a<n.length?i[n.charAt(a)]:0;++a;const A=a<n.length?i[n.charAt(a)]:64;++a;const b=a<n.length?i[n.charAt(a)]:64;if(++a,c==null||I==null||A==null||b==null)throw new so;const T=c<<2|I>>4;if(o.push(T),A!==64){const V=I<<4&240|A>>2;if(o.push(V),b!==64){const j=A<<6&192|b;o.push(j)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class so extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ro=function(n){const e=Ss(n);return Cs.encodeByteArray(e,!0)},Oe=function(n){return ro(n).replace(/\./g,"")},oo=function(n){try{return Cs.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ao(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ho=()=>ao().__FIREBASE_DEFAULTS__,co=()=>{if(typeof process>"u"||typeof $i>"u")return;const n=$i.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lo=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oo(n[1]);return e&&JSON.parse(e)},Ds=()=>{try{return no()||ho()||co()||lo()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uo=n=>Ds()?.emulatorHosts?.[n],fo=n=>{const e=uo(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),o]:[e.substring(0,i),o]},Ps=()=>Ds()?.config;class po{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,o))}}}function Rs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function go(n){return(await fetch(n,{credentials:"include"})).ok}function mo(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=e||"demo-project",a=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Oe(JSON.stringify(i)),Oe(JSON.stringify(f)),""].join(".")}const ae={};function yo(){const n={prod:[],emulator:[]};for(const e of Object.keys(ae))ae[e]?n.emulator.push(e):n.prod.push(e);return n}function _o(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let Hi=!1;function wo(n,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||ae[n]===e||ae[n]||Hi)return;ae[n]=e;function i(T){return`__firebase__banner__${T}`}const o="__firebase__banner",c=yo().prod.length>0;function f(){const T=document.getElementById(o);T&&T.remove()}function I(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function v(T,V){T.setAttribute("width","24"),T.setAttribute("id",V),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function A(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Hi=!0,f()},T}function R(T,V){T.setAttribute("id",V),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=_o(o),V=i("text"),j=document.getElementById(V)||document.createElement("span"),U=i("learnmore"),M=document.getElementById(U)||document.createElement("a"),at=i("preprendIcon"),Z=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;I(X),R(M,U);const ut=A();v(Z,at),X.append(Z,j,M,ut),document.body.appendChild(X)}c?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Io(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ns(){try{return typeof indexedDB=="object"}catch{return!1}}function Os(){return new Promise((n,e)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(o),n(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(i){e(i)}})}function vo(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Eo="FirebaseError";class At extends Error{constructor(e,i,o){super(i),this.code=e,this.customData=o,this.name=Eo,Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(e,i,o){this.service=e,this.serviceName=i,this.errors=o}create(e,...i){const o=i[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?Ao(c,o):"Error",I=`${this.serviceName}: ${f} (${a}).`;return new At(a,I,o)}}function Ao(n,e){return n.replace(To,(i,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const To=/\{\$([^}]+)}/g;function ue(n,e){if(n===e)return!0;const i=Object.keys(n),o=Object.keys(e);for(const a of i){if(!o.includes(a))return!1;const c=n[a],f=e[a];if(zi(c)&&zi(f)){if(!ue(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!i.includes(a))return!1;return!0}function zi(n){return n!==null&&typeof n=="object"}const bo=1e3,So=2,Co=14400*1e3,Do=.5;function Gi(n,e=bo,i=So){const o=e*Math.pow(i,n),a=Math.round(Do*o*(Math.random()-.5)*2);return Math.min(Co,o+a)}function Pn(n){return n&&n._delegate?n._delegate:n}class ct{constructor(e,i,o){this.name=e,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pt="[DEFAULT]";class Po{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const o=new po;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),o=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(No(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[c,f]of this.instancesDeferred.entries()){const I=this.normalizeInstanceIdentifier(c);o===I&&f.resolve(a)}return a}onInit(e,i){const o=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(o)??new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const o=this.onInitCallbacks.get(i);if(o)for(const a of o)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Ro(e),options:i}),this.instances.set(e,o),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ro(n){return n===Pt?void 0:n}function No(n){return n.instantiationMode==="EAGER"}class Oo{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Po(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var N;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(N||(N={}));const ko={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},Mo=N.INFO,Lo={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},xo=(n,e,...i)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),a=Lo[e];if(a)console[a](`[${o}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rn{constructor(e){this.name=e,this._logLevel=Mo,this._logHandler=xo,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ko[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}}const jo=(n,e)=>e.some(i=>n instanceof i);let qi,Wi;function Fo(){return qi||(qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vo(){return Wi||(Wi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ks=new WeakMap,En=new WeakMap,Ms=new WeakMap,dn=new WeakMap,Nn=new WeakMap;function Bo(n){const e=new Promise((i,o)=>{const a=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{i(wt(n.result)),a()},f=()=>{o(n.error),a()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&ks.set(i,n)}).catch(()=>{}),Nn.set(e,n),e}function Uo(n){if(En.has(n))return;const e=new Promise((i,o)=>{const a=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{i(),a()},f=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});En.set(n,e)}let An={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return En.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ms.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wt(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $o(n){An=n(An)}function Ho(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const o=n.call(pn(this),e,...i);return Ms.set(o,e.sort?e.sort():[e]),wt(o)}:Vo().includes(n)?function(...e){return n.apply(pn(this),e),wt(ks.get(this))}:function(...e){return wt(n.apply(pn(this),e))}}function zo(n){return typeof n=="function"?Ho(n):(n instanceof IDBTransaction&&Uo(n),jo(n,Fo())?new Proxy(n,An):n)}function wt(n){if(n instanceof IDBRequest)return Bo(n);if(dn.has(n))return dn.get(n);const e=zo(n);return e!==n&&(dn.set(n,e),Nn.set(e,n)),e}const pn=n=>Nn.get(n);function Ls(n,e,{blocked:i,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(n,e),I=wt(f);return o&&f.addEventListener("upgradeneeded",v=>{o(wt(f.result),v.oldVersion,v.newVersion,wt(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),I.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",A=>a(A.oldVersion,A.newVersion,A))}).catch(()=>{}),I}const Go=["get","getKey","getAll","getAllKeys","count"],qo=["put","add","delete","clear"],gn=new Map;function Ki(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gn.get(e))return gn.get(e);const i=e.replace(/FromIndex$/,""),o=e!==i,a=qo.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Go.includes(i)))return;const c=async function(f,...I){const v=this.transaction(f,a?"readwrite":"readonly");let A=v.store;return o&&(A=A.index(I.shift())),(await Promise.all([A[i](...I),a&&v.done]))[0]};return gn.set(e,c),c}$o(n=>({...n,get:(e,i,o)=>Ki(e,i)||n.get(e,i,o),has:(e,i)=>!!Ki(e,i)||n.has(e,i)}));class Wo{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ko(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function Ko(n){return n.getComponent()?.type==="VERSION"}const Tn="@firebase/app",Xi="0.14.6";const lt=new Rn("@firebase/app"),Xo="@firebase/app-compat",Jo="@firebase/analytics-compat",Yo="@firebase/analytics",Zo="@firebase/app-check-compat",Qo="@firebase/app-check",ta="@firebase/auth",ea="@firebase/auth-compat",na="@firebase/database",ia="@firebase/data-connect",sa="@firebase/database-compat",ra="@firebase/functions",oa="@firebase/functions-compat",aa="@firebase/installations",ha="@firebase/installations-compat",ca="@firebase/messaging",la="@firebase/messaging-compat",ua="@firebase/performance",fa="@firebase/performance-compat",da="@firebase/remote-config",pa="@firebase/remote-config-compat",ga="@firebase/storage",ma="@firebase/storage-compat",ya="@firebase/firestore",_a="@firebase/ai",wa="@firebase/firestore-compat",Ia="firebase",va="12.6.0";const bn="[DEFAULT]",Ea={[Tn]:"fire-core",[Xo]:"fire-core-compat",[Yo]:"fire-analytics",[Jo]:"fire-analytics-compat",[Qo]:"fire-app-check",[Zo]:"fire-app-check-compat",[ta]:"fire-auth",[ea]:"fire-auth-compat",[na]:"fire-rtdb",[ia]:"fire-data-connect",[sa]:"fire-rtdb-compat",[ra]:"fire-fn",[oa]:"fire-fn-compat",[aa]:"fire-iid",[ha]:"fire-iid-compat",[ca]:"fire-fcm",[la]:"fire-fcm-compat",[ua]:"fire-perf",[fa]:"fire-perf-compat",[da]:"fire-rc",[pa]:"fire-rc-compat",[ga]:"fire-gcs",[ma]:"fire-gcs-compat",[ya]:"fire-fst",[wa]:"fire-fst-compat",[_a]:"fire-vertex","fire-js":"fire-js",[Ia]:"fire-js-all"};const ke=new Map,Aa=new Map,Sn=new Map;function Ji(n,e){try{n.container.addComponent(e)}catch(i){lt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function vt(n){const e=n.name;if(Sn.has(e))return lt.debug(`There were multiple attempts to register component ${e}.`),!1;Sn.set(e,n);for(const i of ke.values())Ji(i,n);for(const i of Aa.values())Ji(i,n);return!0}function pe(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Ta(n){return n==null?!1:n.settings!==void 0}const ba={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},It=new je("app","Firebase",ba);class Sa{constructor(e,i,o){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const Ca=va;function xs(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const o={name:bn,automaticDataCollectionEnabled:!0,...e},a=o.name;if(typeof a!="string"||!a)throw It.create("bad-app-name",{appName:String(a)});if(i||(i=Ps()),!i)throw It.create("no-options");const c=ke.get(a);if(c){if(ue(i,c.options)&&ue(o,c.config))return c;throw It.create("duplicate-app",{appName:a})}const f=new Oo(a);for(const v of Sn.values())f.addComponent(v);const I=new Sa(i,o,f);return ke.set(a,I),I}function js(n=bn){const e=ke.get(n);if(!e&&n===bn&&Ps())return xs();if(!e)throw It.create("no-app",{appName:n});return e}function ot(n,e,i){let o=Ea[n]??n;i&&(o+=`-${i}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lt.warn(f.join(" "));return}vt(new ct(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const Da="firebase-heartbeat-database",Pa=1,fe="firebase-heartbeat-store";let mn=null;function Fs(){return mn||(mn=Ls(Da,Pa,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fe)}catch(i){console.warn(i)}}}}).catch(n=>{throw It.create("idb-open",{originalErrorMessage:n.message})})),mn}async function Ra(n){try{const i=(await Fs()).transaction(fe),o=await i.objectStore(fe).get(Vs(n));return await i.done,o}catch(e){if(e instanceof At)lt.warn(e.message);else{const i=It.create("idb-get",{originalErrorMessage:e?.message});lt.warn(i.message)}}}async function Yi(n,e){try{const o=(await Fs()).transaction(fe,"readwrite");await o.objectStore(fe).put(e,Vs(n)),await o.done}catch(i){if(i instanceof At)lt.warn(i.message);else{const o=It.create("idb-set",{originalErrorMessage:i?.message});lt.warn(o.message)}}}function Vs(n){return`${n.name}!${n.options.appId}`}const Na=1024,Oa=30;class ka{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new La(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zi();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Oa){const a=xa(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lt.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zi(),{heartbeatsToSend:i,unsentEntries:o}=Ma(this._heartbeatsCache.heartbeats),a=Oe(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return lt.warn(e),""}}}function Zi(){return new Date().toISOString().substring(0,10)}function Ma(n,e=Na){const i=[];let o=n.slice();for(const a of n){const c=i.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Qi(i)>e){c.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),Qi(i)>e){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class La{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ns()?Os().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ra(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Yi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Yi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Qi(n){return Oe(JSON.stringify({version:2,heartbeats:n})).length}function xa(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let o=1;o<n.length;o++)n[o].date<i&&(i=n[o].date,e=o);return e}function ja(n){vt(new ct("platform-logger",e=>new Wo(e),"PRIVATE")),vt(new ct("heartbeat",e=>new ka(e),"PRIVATE")),ot(Tn,Xi,n),ot(Tn,Xi,"esm2020"),ot("fire-js","")}ja("");var Fa="firebase",Va="12.6.0";ot(Fa,Va,"app");const Bs="@firebase/installations",On="0.6.19";const Us=1e4,$s=`w:${On}`,Hs="FIS_v2",Ba="https://firebaseinstallations.googleapis.com/v1",Ua=3600*1e3,$a="installations",Ha="Installations";const za={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lt=new je($a,Ha,za);function zs(n){return n instanceof At&&n.code.includes("request-failed")}function Gs({projectId:n}){return`${Ba}/projects/${n}/installations`}function qs(n){return{token:n.token,requestStatus:2,expiresIn:qa(n.expiresIn),creationTime:Date.now()}}async function Ws(n,e){const o=(await e.json()).error;return Lt.create("request-failed",{requestName:n,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function Ks({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ga(n,{refreshToken:e}){const i=Ks(n);return i.append("Authorization",Wa(e)),i}async function Xs(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qa(n){return Number(n.replace("s","000"))}function Wa(n){return`${Hs} ${n}`}async function Ka({appConfig:n,heartbeatServiceProvider:e},{fid:i}){const o=Gs(n),a=Ks(n),c=e.getImmediate({optional:!0});if(c){const A=await c.getHeartbeatsHeader();A&&a.append("x-firebase-client",A)}const f={fid:i,authVersion:Hs,appId:n.appId,sdkVersion:$s},I={method:"POST",headers:a,body:JSON.stringify(f)},v=await Xs(()=>fetch(o,I));if(v.ok){const A=await v.json();return{fid:A.fid||i,registrationStatus:2,refreshToken:A.refreshToken,authToken:qs(A.authToken)}}else throw await Ws("Create Installation",v)}function Js(n){return new Promise(e=>{setTimeout(e,n)})}function Xa(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const Ja=/^[cdef][\w-]{21}$/,Cn="";function Ya(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=Za(n);return Ja.test(i)?i:Cn}catch{return Cn}}function Za(n){return Xa(n).substr(0,22)}function Fe(n){return`${n.appName}!${n.appId}`}const Ys=new Map;function Zs(n,e){const i=Fe(n);Qs(i,e),Qa(i,e)}function Qs(n,e){const i=Ys.get(n);if(i)for(const o of i)o(e)}function Qa(n,e){const i=th();i&&i.postMessage({key:n,fid:e}),eh()}let Nt=null;function th(){return!Nt&&"BroadcastChannel"in self&&(Nt=new BroadcastChannel("[Firebase] FID Change"),Nt.onmessage=n=>{Qs(n.data.key,n.data.fid)}),Nt}function eh(){Ys.size===0&&Nt&&(Nt.close(),Nt=null)}const nh="firebase-installations-database",ih=1,xt="firebase-installations-store";let yn=null;function kn(){return yn||(yn=Ls(nh,ih,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(xt)}}})),yn}async function Me(n,e){const i=Fe(n),a=(await kn()).transaction(xt,"readwrite"),c=a.objectStore(xt),f=await c.get(i);return await c.put(e,i),await a.done,(!f||f.fid!==e.fid)&&Zs(n,e.fid),e}async function tr(n){const e=Fe(n),o=(await kn()).transaction(xt,"readwrite");await o.objectStore(xt).delete(e),await o.done}async function Ve(n,e){const i=Fe(n),a=(await kn()).transaction(xt,"readwrite"),c=a.objectStore(xt),f=await c.get(i),I=e(f);return I===void 0?await c.delete(i):await c.put(I,i),await a.done,I&&(!f||f.fid!==I.fid)&&Zs(n,I.fid),I}async function Mn(n){let e;const i=await Ve(n.appConfig,o=>{const a=sh(o),c=rh(n,a);return e=c.registrationPromise,c.installationEntry});return i.fid===Cn?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function sh(n){const e=n||{fid:Ya(),registrationStatus:0};return er(e)}function rh(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Lt.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=oh(n,i);return{installationEntry:i,registrationPromise:o}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ah(n)}:{installationEntry:e}}async function oh(n,e){try{const i=await Ka(n,e);return Me(n.appConfig,i)}catch(i){throw zs(i)&&i.customData.serverCode===409?await tr(n.appConfig):await Me(n.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function ah(n){let e=await ts(n.appConfig);for(;e.registrationStatus===1;)await Js(100),e=await ts(n.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:o}=await Mn(n);return o||i}return e}function ts(n){return Ve(n,e=>{if(!e)throw Lt.create("installation-not-found");return er(e)})}function er(n){return hh(n)?{fid:n.fid,registrationStatus:0}:n}function hh(n){return n.registrationStatus===1&&n.registrationTime+Us<Date.now()}async function ch({appConfig:n,heartbeatServiceProvider:e},i){const o=lh(n,i),a=Ga(n,i),c=e.getImmediate({optional:!0});if(c){const A=await c.getHeartbeatsHeader();A&&a.append("x-firebase-client",A)}const f={installation:{sdkVersion:$s,appId:n.appId}},I={method:"POST",headers:a,body:JSON.stringify(f)},v=await Xs(()=>fetch(o,I));if(v.ok){const A=await v.json();return qs(A)}else throw await Ws("Generate Auth Token",v)}function lh(n,{fid:e}){return`${Gs(n)}/${e}/authTokens:generate`}async function Ln(n,e=!1){let i;const o=await Ve(n.appConfig,c=>{if(!nr(c))throw Lt.create("not-registered");const f=c.authToken;if(!e&&dh(f))return c;if(f.requestStatus===1)return i=uh(n,e),c;{if(!navigator.onLine)throw Lt.create("app-offline");const I=gh(c);return i=fh(n,I),I}});return i?await i:o.authToken}async function uh(n,e){let i=await es(n.appConfig);for(;i.authToken.requestStatus===1;)await Js(100),i=await es(n.appConfig);const o=i.authToken;return o.requestStatus===0?Ln(n,e):o}function es(n){return Ve(n,e=>{if(!nr(e))throw Lt.create("not-registered");const i=e.authToken;return mh(i)?{...e,authToken:{requestStatus:0}}:e})}async function fh(n,e){try{const i=await ch(n,e),o={...e,authToken:i};return await Me(n.appConfig,o),i}catch(i){if(zs(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await tr(n.appConfig);else{const o={...e,authToken:{requestStatus:0}};await Me(n.appConfig,o)}throw i}}function nr(n){return n!==void 0&&n.registrationStatus===2}function dh(n){return n.requestStatus===2&&!ph(n)}function ph(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Ua}function gh(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function mh(n){return n.requestStatus===1&&n.requestTime+Us<Date.now()}async function yh(n){const e=n,{installationEntry:i,registrationPromise:o}=await Mn(e);return o?o.catch(console.error):Ln(e).catch(console.error),i.fid}async function _h(n,e=!1){const i=n;return await wh(i),(await Ln(i,e)).token}async function wh(n){const{registrationPromise:e}=await Mn(n);e&&await e}function Ih(n){if(!n||!n.options)throw _n("App Configuration");if(!n.name)throw _n("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!n.options[i])throw _n(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function _n(n){return Lt.create("missing-app-config-values",{valueName:n})}const ir="installations",vh="installations-internal",Eh=n=>{const e=n.getProvider("app").getImmediate(),i=Ih(e),o=pe(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},Ah=n=>{const e=n.getProvider("app").getImmediate(),i=pe(e,ir).getImmediate();return{getId:()=>yh(i),getToken:a=>_h(i,a)}};function Th(){vt(new ct(ir,Eh,"PUBLIC")),vt(new ct(vh,Ah,"PRIVATE"))}Th();ot(Bs,On);ot(Bs,On,"esm2020");const Le="analytics",bh="firebase_id",Sh="origin",Ch=60*1e3,Dh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xn="https://www.googletagmanager.com/gtag/js";const q=new Rn("@firebase/analytics");const Ph={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},K=new je("analytics","Analytics",Ph);function Rh(n){if(!n.startsWith(xn)){const e=K.create("invalid-gtag-resource",{gtagURL:n});return q.warn(e.message),""}return n}function sr(n){return Promise.all(n.map(e=>e.catch(i=>i)))}function Nh(n,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,e)),i}function Oh(n,e){const i=Nh("firebase-js-sdk-policy",{createScriptURL:Rh}),o=document.createElement("script"),a=`${xn}?l=${n}&id=${e}`;o.src=i?i?.createScriptURL(a):a,o.async=!0,document.head.appendChild(o)}function kh(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Mh(n,e,i,o,a,c){const f=o[a];try{if(f)await e[f];else{const v=(await sr(i)).find(A=>A.measurementId===a);v&&await e[v.appId]}}catch(I){q.error(I)}n("config",a,c)}async function Lh(n,e,i,o,a){try{let c=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);const I=await sr(i);for(const v of f){const A=I.find(b=>b.measurementId===v),R=A&&e[A.appId];if(R)c.push(R);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),n("event",o,a||{})}catch(c){q.error(c)}}function xh(n,e,i,o){async function a(c,...f){try{if(c==="event"){const[I,v]=f;await Lh(n,e,i,I,v)}else if(c==="config"){const[I,v]=f;await Mh(n,e,i,o,I,v)}else if(c==="consent"){const[I,v]=f;n("consent",I,v)}else if(c==="get"){const[I,v,A]=f;n("get",I,v,A)}else if(c==="set"){const[I]=f;n("set",I)}else n(c,...f)}catch(I){q.error(I)}}return a}function jh(n,e,i,o,a){let c=function(...f){window[o].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=xh(c,n,e,i),{gtagCore:c,wrappedGtag:window[a]}}function Fh(n){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(xn)&&i.src.includes(n))return i;return null}const Vh=30,Bh=1e3;class Uh{constructor(e={},i=Bh){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rr=new Uh;function $h(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Hh(n){const{appId:e,apiKey:i}=n,o={method:"GET",headers:$h(i)},a=Dh.replace("{app-id}",e),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let f="";try{const I=await c.json();I.error?.message&&(f=I.error.message)}catch{}throw K.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function zh(n,e=rr,i){const{appId:o,apiKey:a,measurementId:c}=n.options;if(!o)throw K.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:o};throw K.create("no-api-key")}const f=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},I=new Wh;return setTimeout(async()=>{I.abort()},Ch),or({appId:o,apiKey:a,measurementId:c},f,I,e)}async function or(n,{throttleEndTimeMillis:e,backoffCount:i},o,a=rr){const{appId:c,measurementId:f}=n;try{await Gh(o,e)}catch(I){if(f)return q.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${I?.message}]`),{appId:c,measurementId:f};throw I}try{const I=await Hh(n);return a.deleteThrottleMetadata(c),I}catch(I){const v=I;if(!qh(v)){if(a.deleteThrottleMetadata(c),f)return q.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw I}const A=Number(v?.customData?.httpStatus)===503?Gi(i,a.intervalMillis,Vh):Gi(i,a.intervalMillis),R={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return a.setThrottleMetadata(c,R),q.debug(`Calling attemptFetch again in ${A} millis`),or(n,R,o,a)}}function Gh(n,e){return new Promise((i,o)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(i,a);n.addEventListener(()=>{clearTimeout(c),o(K.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qh(n){if(!(n instanceof At)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Wh{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kh(n,e,i,o,a){if(a&&a.global){n("event",i,o);return}else{const c=await e,f={...o,send_to:c};n("event",i,f)}}async function Xh(n,e,i,o){if(o&&o.global){const a={};for(const c of Object.keys(i))a[`user_properties.${c}`]=i[c];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:i})}}async function Jh(){if(Ns())try{await Os()}catch(n){return q.warn(K.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return q.warn(K.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Yh(n,e,i,o,a,c,f){const I=zh(n);I.then(T=>{i[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&q.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>q.error(T)),e.push(I);const v=Jh().then(T=>{if(T)return o.getId()}),[A,R]=await Promise.all([I,v]);Fh(c)||Oh(c,A.measurementId),a("js",new Date);const b=f?.config??{};return b[Sh]="firebase",b.update=!0,R!=null&&(b[bh]=R),a("config",A.measurementId,b),A.measurementId}class Zh{constructor(e){this.app=e}_delete(){return delete $t[this.app.options.appId],Promise.resolve()}}let $t={},ns=[];const is={};let wn="dataLayer",Qh="gtag",ss,jn,rs=!1;function tc(){const n=[];if(Io()&&n.push("This is a browser extension environment."),vo()||n.push("Cookies are not available."),n.length>0){const e=n.map((o,a)=>`(${a+1}) ${o}`).join(" "),i=K.create("invalid-analytics-context",{errorInfo:e});q.warn(i.message)}}function ec(n,e,i){tc();const o=n.options.appId;if(!o)throw K.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)q.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw K.create("no-api-key");if($t[o]!=null)throw K.create("already-exists",{id:o});if(!rs){kh(wn);const{wrappedGtag:c,gtagCore:f}=jh($t,ns,is,wn,Qh);jn=c,ss=f,rs=!0}return $t[o]=Yh(n,ns,is,e,ss,wn,i),new Zh(n)}function nc(n=js()){n=Pn(n);const e=pe(n,Le);return e.isInitialized()?e.getImmediate():ic(n)}function ic(n,e={}){const i=pe(n,Le);if(i.isInitialized()){const a=i.getImmediate();if(ue(e,i.getOptions()))return a;throw K.create("already-initialized")}return i.initialize({options:e})}function sc(n,e,i){n=Pn(n),Xh(jn,$t[n.app.options.appId],e,i).catch(o=>q.error(o))}function rc(n,e,i,o){n=Pn(n),Kh(jn,$t[n.app.options.appId],e,i,o).catch(a=>q.error(a))}const os="@firebase/analytics",as="0.10.19";function oc(){vt(new ct(Le,(e,{options:i})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return ec(o,a,i)},"PUBLIC")),vt(new ct("analytics-internal",n,"PRIVATE")),ot(os,as),ot(os,as,"esm2020");function n(e){try{const i=e.getProvider(Le).getImmediate();return{logEvent:(o,a,c)=>rc(i,o,a,c),setUserProperties:(o,a)=>sc(i,o,a)}}catch(i){throw K.create("interop-component-reg-failed",{reason:i})}}}oc();var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fn;(function(){var n;function e(g,l){function d(){}d.prototype=l.prototype,g.F=l.prototype,g.prototype=new d,g.prototype.constructor=g,g.D=function(m,p,_){for(var u=Array(arguments.length-2),W=2;W<arguments.length;W++)u[W-2]=arguments[W];return l.prototype[p].apply(m,u)}}function i(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(o,i),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(g,l,d){d||(d=0);const m=Array(16);if(typeof l=="string")for(var p=0;p<16;++p)m[p]=l.charCodeAt(d++)|l.charCodeAt(d++)<<8|l.charCodeAt(d++)<<16|l.charCodeAt(d++)<<24;else for(p=0;p<16;++p)m[p]=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;l=g.g[0],d=g.g[1],p=g.g[2];let _=g.g[3],u;u=l+(_^d&(p^_))+m[0]+3614090360&4294967295,l=d+(u<<7&4294967295|u>>>25),u=_+(p^l&(d^p))+m[1]+3905402710&4294967295,_=l+(u<<12&4294967295|u>>>20),u=p+(d^_&(l^d))+m[2]+606105819&4294967295,p=_+(u<<17&4294967295|u>>>15),u=d+(l^p&(_^l))+m[3]+3250441966&4294967295,d=p+(u<<22&4294967295|u>>>10),u=l+(_^d&(p^_))+m[4]+4118548399&4294967295,l=d+(u<<7&4294967295|u>>>25),u=_+(p^l&(d^p))+m[5]+1200080426&4294967295,_=l+(u<<12&4294967295|u>>>20),u=p+(d^_&(l^d))+m[6]+2821735955&4294967295,p=_+(u<<17&4294967295|u>>>15),u=d+(l^p&(_^l))+m[7]+4249261313&4294967295,d=p+(u<<22&4294967295|u>>>10),u=l+(_^d&(p^_))+m[8]+1770035416&4294967295,l=d+(u<<7&4294967295|u>>>25),u=_+(p^l&(d^p))+m[9]+2336552879&4294967295,_=l+(u<<12&4294967295|u>>>20),u=p+(d^_&(l^d))+m[10]+4294925233&4294967295,p=_+(u<<17&4294967295|u>>>15),u=d+(l^p&(_^l))+m[11]+2304563134&4294967295,d=p+(u<<22&4294967295|u>>>10),u=l+(_^d&(p^_))+m[12]+1804603682&4294967295,l=d+(u<<7&4294967295|u>>>25),u=_+(p^l&(d^p))+m[13]+4254626195&4294967295,_=l+(u<<12&4294967295|u>>>20),u=p+(d^_&(l^d))+m[14]+2792965006&4294967295,p=_+(u<<17&4294967295|u>>>15),u=d+(l^p&(_^l))+m[15]+1236535329&4294967295,d=p+(u<<22&4294967295|u>>>10),u=l+(p^_&(d^p))+m[1]+4129170786&4294967295,l=d+(u<<5&4294967295|u>>>27),u=_+(d^p&(l^d))+m[6]+3225465664&4294967295,_=l+(u<<9&4294967295|u>>>23),u=p+(l^d&(_^l))+m[11]+643717713&4294967295,p=_+(u<<14&4294967295|u>>>18),u=d+(_^l&(p^_))+m[0]+3921069994&4294967295,d=p+(u<<20&4294967295|u>>>12),u=l+(p^_&(d^p))+m[5]+3593408605&4294967295,l=d+(u<<5&4294967295|u>>>27),u=_+(d^p&(l^d))+m[10]+38016083&4294967295,_=l+(u<<9&4294967295|u>>>23),u=p+(l^d&(_^l))+m[15]+3634488961&4294967295,p=_+(u<<14&4294967295|u>>>18),u=d+(_^l&(p^_))+m[4]+3889429448&4294967295,d=p+(u<<20&4294967295|u>>>12),u=l+(p^_&(d^p))+m[9]+568446438&4294967295,l=d+(u<<5&4294967295|u>>>27),u=_+(d^p&(l^d))+m[14]+3275163606&4294967295,_=l+(u<<9&4294967295|u>>>23),u=p+(l^d&(_^l))+m[3]+4107603335&4294967295,p=_+(u<<14&4294967295|u>>>18),u=d+(_^l&(p^_))+m[8]+1163531501&4294967295,d=p+(u<<20&4294967295|u>>>12),u=l+(p^_&(d^p))+m[13]+2850285829&4294967295,l=d+(u<<5&4294967295|u>>>27),u=_+(d^p&(l^d))+m[2]+4243563512&4294967295,_=l+(u<<9&4294967295|u>>>23),u=p+(l^d&(_^l))+m[7]+1735328473&4294967295,p=_+(u<<14&4294967295|u>>>18),u=d+(_^l&(p^_))+m[12]+2368359562&4294967295,d=p+(u<<20&4294967295|u>>>12),u=l+(d^p^_)+m[5]+4294588738&4294967295,l=d+(u<<4&4294967295|u>>>28),u=_+(l^d^p)+m[8]+2272392833&4294967295,_=l+(u<<11&4294967295|u>>>21),u=p+(_^l^d)+m[11]+1839030562&4294967295,p=_+(u<<16&4294967295|u>>>16),u=d+(p^_^l)+m[14]+4259657740&4294967295,d=p+(u<<23&4294967295|u>>>9),u=l+(d^p^_)+m[1]+2763975236&4294967295,l=d+(u<<4&4294967295|u>>>28),u=_+(l^d^p)+m[4]+1272893353&4294967295,_=l+(u<<11&4294967295|u>>>21),u=p+(_^l^d)+m[7]+4139469664&4294967295,p=_+(u<<16&4294967295|u>>>16),u=d+(p^_^l)+m[10]+3200236656&4294967295,d=p+(u<<23&4294967295|u>>>9),u=l+(d^p^_)+m[13]+681279174&4294967295,l=d+(u<<4&4294967295|u>>>28),u=_+(l^d^p)+m[0]+3936430074&4294967295,_=l+(u<<11&4294967295|u>>>21),u=p+(_^l^d)+m[3]+3572445317&4294967295,p=_+(u<<16&4294967295|u>>>16),u=d+(p^_^l)+m[6]+76029189&4294967295,d=p+(u<<23&4294967295|u>>>9),u=l+(d^p^_)+m[9]+3654602809&4294967295,l=d+(u<<4&4294967295|u>>>28),u=_+(l^d^p)+m[12]+3873151461&4294967295,_=l+(u<<11&4294967295|u>>>21),u=p+(_^l^d)+m[15]+530742520&4294967295,p=_+(u<<16&4294967295|u>>>16),u=d+(p^_^l)+m[2]+3299628645&4294967295,d=p+(u<<23&4294967295|u>>>9),u=l+(p^(d|~_))+m[0]+4096336452&4294967295,l=d+(u<<6&4294967295|u>>>26),u=_+(d^(l|~p))+m[7]+1126891415&4294967295,_=l+(u<<10&4294967295|u>>>22),u=p+(l^(_|~d))+m[14]+2878612391&4294967295,p=_+(u<<15&4294967295|u>>>17),u=d+(_^(p|~l))+m[5]+4237533241&4294967295,d=p+(u<<21&4294967295|u>>>11),u=l+(p^(d|~_))+m[12]+1700485571&4294967295,l=d+(u<<6&4294967295|u>>>26),u=_+(d^(l|~p))+m[3]+2399980690&4294967295,_=l+(u<<10&4294967295|u>>>22),u=p+(l^(_|~d))+m[10]+4293915773&4294967295,p=_+(u<<15&4294967295|u>>>17),u=d+(_^(p|~l))+m[1]+2240044497&4294967295,d=p+(u<<21&4294967295|u>>>11),u=l+(p^(d|~_))+m[8]+1873313359&4294967295,l=d+(u<<6&4294967295|u>>>26),u=_+(d^(l|~p))+m[15]+4264355552&4294967295,_=l+(u<<10&4294967295|u>>>22),u=p+(l^(_|~d))+m[6]+2734768916&4294967295,p=_+(u<<15&4294967295|u>>>17),u=d+(_^(p|~l))+m[13]+1309151649&4294967295,d=p+(u<<21&4294967295|u>>>11),u=l+(p^(d|~_))+m[4]+4149444226&4294967295,l=d+(u<<6&4294967295|u>>>26),u=_+(d^(l|~p))+m[11]+3174756917&4294967295,_=l+(u<<10&4294967295|u>>>22),u=p+(l^(_|~d))+m[2]+718787259&4294967295,p=_+(u<<15&4294967295|u>>>17),u=d+(_^(p|~l))+m[9]+3951481745&4294967295,g.g[0]=g.g[0]+l&4294967295,g.g[1]=g.g[1]+(p+(u<<21&4294967295|u>>>11))&4294967295,g.g[2]=g.g[2]+p&4294967295,g.g[3]=g.g[3]+_&4294967295}o.prototype.v=function(g,l){l===void 0&&(l=g.length);const d=l-this.blockSize,m=this.C;let p=this.h,_=0;for(;_<l;){if(p==0)for(;_<=d;)a(this,g,_),_+=this.blockSize;if(typeof g=="string"){for(;_<l;)if(m[p++]=g.charCodeAt(_++),p==this.blockSize){a(this,m),p=0;break}}else for(;_<l;)if(m[p++]=g[_++],p==this.blockSize){a(this,m),p=0;break}}this.h=p,this.o+=l},o.prototype.A=function(){var g=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);g[0]=128;for(var l=1;l<g.length-8;++l)g[l]=0;l=this.o*8;for(var d=g.length-8;d<g.length;++d)g[d]=l&255,l/=256;for(this.v(g),g=Array(16),l=0,d=0;d<4;++d)for(let m=0;m<32;m+=8)g[l++]=this.g[d]>>>m&255;return g};function c(g,l){var d=I;return Object.prototype.hasOwnProperty.call(d,g)?d[g]:d[g]=l(g)}function f(g,l){this.h=l;const d=[];let m=!0;for(let p=g.length-1;p>=0;p--){const _=g[p]|0;m&&_==l||(d[p]=_,m=!1)}this.g=d}var I={};function v(g){return-128<=g&&g<128?c(g,function(l){return new f([l|0],l<0?-1:0)}):new f([g|0],g<0?-1:0)}function A(g){if(isNaN(g)||!isFinite(g))return b;if(g<0)return M(A(-g));const l=[];let d=1;for(let m=0;g>=d;m++)l[m]=g/d|0,d*=4294967296;return new f(l,0)}function R(g,l){if(g.length==0)throw Error("number format error: empty string");if(l=l||10,l<2||36<l)throw Error("radix out of range: "+l);if(g.charAt(0)=="-")return M(R(g.substring(1),l));if(g.indexOf("-")>=0)throw Error('number format error: interior "-" character');const d=A(Math.pow(l,8));let m=b;for(let _=0;_<g.length;_+=8){var p=Math.min(8,g.length-_);const u=parseInt(g.substring(_,_+p),l);p<8?(p=A(Math.pow(l,p)),m=m.j(p).add(A(u))):(m=m.j(d),m=m.add(A(u)))}return m}var b=v(0),T=v(1),V=v(16777216);n=f.prototype,n.m=function(){if(U(this))return-M(this).m();let g=0,l=1;for(let d=0;d<this.g.length;d++){const m=this.i(d);g+=(m>=0?m:4294967296+m)*l,l*=4294967296}return g},n.toString=function(g){if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(j(this))return"0";if(U(this))return"-"+M(this).toString(g);const l=A(Math.pow(g,6));var d=this;let m="";for(;;){const p=ut(d,l).g;d=at(d,p.j(l));let _=((d.g.length>0?d.g[0]:d.h)>>>0).toString(g);if(d=p,j(d))return _+m;for(;_.length<6;)_="0"+_;m=_+m}},n.i=function(g){return g<0?0:g<this.g.length?this.g[g]:this.h};function j(g){if(g.h!=0)return!1;for(let l=0;l<g.g.length;l++)if(g.g[l]!=0)return!1;return!0}function U(g){return g.h==-1}n.l=function(g){return g=at(this,g),U(g)?-1:j(g)?0:1};function M(g){const l=g.g.length,d=[];for(let m=0;m<l;m++)d[m]=~g.g[m];return new f(d,~g.h).add(T)}n.abs=function(){return U(this)?M(this):this},n.add=function(g){const l=Math.max(this.g.length,g.g.length),d=[];let m=0;for(let p=0;p<=l;p++){let _=m+(this.i(p)&65535)+(g.i(p)&65535),u=(_>>>16)+(this.i(p)>>>16)+(g.i(p)>>>16);m=u>>>16,_&=65535,u&=65535,d[p]=u<<16|_}return new f(d,d[d.length-1]&-2147483648?-1:0)};function at(g,l){return g.add(M(l))}n.j=function(g){if(j(this)||j(g))return b;if(U(this))return U(g)?M(this).j(M(g)):M(M(this).j(g));if(U(g))return M(this.j(M(g)));if(this.l(V)<0&&g.l(V)<0)return A(this.m()*g.m());const l=this.g.length+g.g.length,d=[];for(var m=0;m<2*l;m++)d[m]=0;for(m=0;m<this.g.length;m++)for(let p=0;p<g.g.length;p++){const _=this.i(m)>>>16,u=this.i(m)&65535,W=g.i(p)>>>16,Tt=g.i(p)&65535;d[2*m+2*p]+=u*Tt,Z(d,2*m+2*p),d[2*m+2*p+1]+=_*Tt,Z(d,2*m+2*p+1),d[2*m+2*p+1]+=u*W,Z(d,2*m+2*p+1),d[2*m+2*p+2]+=_*W,Z(d,2*m+2*p+2)}for(g=0;g<l;g++)d[g]=d[2*g+1]<<16|d[2*g];for(g=l;g<2*l;g++)d[g]=0;return new f(d,0)};function Z(g,l){for(;(g[l]&65535)!=g[l];)g[l+1]+=g[l]>>>16,g[l]&=65535,l++}function X(g,l){this.g=g,this.h=l}function ut(g,l){if(j(l))throw Error("division by zero");if(j(g))return new X(b,b);if(U(g))return l=ut(M(g),l),new X(M(l.g),M(l.h));if(U(l))return l=ut(g,M(l)),new X(M(l.g),l.h);if(g.g.length>30){if(U(g)||U(l))throw Error("slowDivide_ only works with positive integers.");for(var d=T,m=l;m.l(g)<=0;)d=ft(d),m=ft(m);var p=J(d,1),_=J(m,1);for(m=J(m,2),d=J(d,2);!j(m);){var u=_.add(m);u.l(g)<=0&&(p=p.add(d),_=u),m=J(m,1),d=J(d,1)}return l=at(g,p.j(l)),new X(p,l)}for(p=b;g.l(l)>=0;){for(d=Math.max(1,Math.floor(g.m()/l.m())),m=Math.ceil(Math.log(d)/Math.LN2),m=m<=48?1:Math.pow(2,m-48),_=A(d),u=_.j(l);U(u)||u.l(g)>0;)d-=m,_=A(d),u=_.j(l);j(_)&&(_=T),p=p.add(_),g=at(g,u)}return new X(p,g)}n.B=function(g){return ut(this,g).h},n.and=function(g){const l=Math.max(this.g.length,g.g.length),d=[];for(let m=0;m<l;m++)d[m]=this.i(m)&g.i(m);return new f(d,this.h&g.h)},n.or=function(g){const l=Math.max(this.g.length,g.g.length),d=[];for(let m=0;m<l;m++)d[m]=this.i(m)|g.i(m);return new f(d,this.h|g.h)},n.xor=function(g){const l=Math.max(this.g.length,g.g.length),d=[];for(let m=0;m<l;m++)d[m]=this.i(m)^g.i(m);return new f(d,this.h^g.h)};function ft(g){const l=g.g.length+1,d=[];for(let m=0;m<l;m++)d[m]=g.i(m)<<1|g.i(m-1)>>>31;return new f(d,g.h)}function J(g,l){const d=l>>5;l%=32;const m=g.g.length-d,p=[];for(let _=0;_<m;_++)p[_]=l>0?g.i(_+d)>>>l|g.i(_+d+1)<<32-l:g.i(_+d);return new f(p,g.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=A,f.fromString=R,Fn=f}).apply(typeof hs<"u"?hs:typeof self<"u"?self:typeof window<"u"?window:{});var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,e=Object.defineProperty;function i(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pe=="object"&&Pe];for(var s=0;s<t.length;++s){var r=t[s];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var o=i(this);function a(t,s){if(s)t:{var r=o;t=t.split(".");for(var h=0;h<t.length-1;h++){var y=t[h];if(!(y in r))break t;r=r[y]}t=t[t.length-1],h=r[t],s=s(h),s!=h&&s!=null&&e(r,t,{configurable:!0,writable:!0,value:s})}}a("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(t){return t||function(s){var r=[],h;for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&r.push([h,s[h]]);return r}});var c=c||{},f=this||self;function I(t){var s=typeof t;return s=="object"&&t!=null||s=="function"}function v(t,s,r){return t.call.apply(t.bind,arguments)}function A(t,s,r){return A=v,A.apply(null,arguments)}function R(t,s){var r=Array.prototype.slice.call(arguments,1);return function(){var h=r.slice();return h.push.apply(h,arguments),t.apply(this,h)}}function b(t,s){function r(){}r.prototype=s.prototype,t.Z=s.prototype,t.prototype=new r,t.prototype.constructor=t,t.Ob=function(h,y,w){for(var E=Array(arguments.length-2),S=2;S<arguments.length;S++)E[S-2]=arguments[S];return s.prototype[y].apply(h,E)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function V(t){const s=t.length;if(s>0){const r=Array(s);for(let h=0;h<s;h++)r[h]=t[h];return r}return[]}function j(t,s){for(let h=1;h<arguments.length;h++){const y=arguments[h];var r=typeof y;if(r=r!="object"?r:y?Array.isArray(y)?"array":r:"null",r=="array"||r=="object"&&typeof y.length=="number"){r=t.length||0;const w=y.length||0;t.length=r+w;for(let E=0;E<w;E++)t[r+E]=y[E]}else t.push(y)}}class U{constructor(s,r){this.i=s,this.j=r,this.h=0,this.g=null}get(){let s;return this.h>0?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function M(t){f.setTimeout(()=>{throw t},0)}function at(){var t=g;let s=null;return t.g&&(s=t.g,t.g=t.g.next,t.g||(t.h=null),s.next=null),s}class Z{constructor(){this.h=this.g=null}add(s,r){const h=X.get();h.set(s,r),this.h?this.h.next=h:this.g=h,this.h=h}}var X=new U(()=>new ut,t=>t.reset());class ut{constructor(){this.next=this.g=this.h=null}set(s,r){this.h=s,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,J=!1,g=new Z,l=()=>{const t=Promise.resolve(void 0);ft=()=>{t.then(d)}};function d(){for(var t;t=at();){try{t.h.call(t.g)}catch(r){M(r)}var s=X;s.j(t),s.h<100&&(s.h++,t.next=s.g,s.g=t)}J=!1}function m(){this.u=this.u,this.C=this.C}m.prototype.u=!1,m.prototype.dispose=function(){this.u||(this.u=!0,this.N())},m.prototype[Symbol.dispose]=function(){this.dispose()},m.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function p(t,s){this.type=t,this.g=this.target=s,this.defaultPrevented=!1}p.prototype.h=function(){this.defaultPrevented=!0};var _=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,s=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const r=()=>{};f.addEventListener("test",r,s),f.removeEventListener("test",r,s)}catch{}return t})();function u(t){return/^[\s\xa0]*$/.test(t)}function W(t,s){p.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,s)}b(W,p),W.prototype.init=function(t,s){const r=this.type=t.type,h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=s,s=t.relatedTarget,s||(r=="mouseover"?s=t.fromElement:r=="mouseout"&&(s=t.toElement)),this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),yr=0;function _r(t,s,r,h,y){this.listener=t,this.proxy=null,this.src=s,this.type=r,this.capture=!!h,this.ha=y,this.key=++yr,this.da=this.fa=!1}function ye(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function _e(t,s,r){for(const h in t)s.call(r,t[h],h,t)}function wr(t,s){for(const r in t)s.call(void 0,t[r],r,t)}function Hn(t){const s={};for(const r in t)s[r]=t[r];return s}const zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gn(t,s){let r,h;for(let y=1;y<arguments.length;y++){h=arguments[y];for(r in h)t[r]=h[r];for(let w=0;w<zn.length;w++)r=zn[w],Object.prototype.hasOwnProperty.call(h,r)&&(t[r]=h[r])}}function we(t){this.src=t,this.g={},this.h=0}we.prototype.add=function(t,s,r,h,y){const w=t.toString();t=this.g[w],t||(t=this.g[w]=[],this.h++);const E=Ue(t,s,h,y);return E>-1?(s=t[E],r||(s.fa=!1)):(s=new _r(s,this.src,w,!!h,y),s.fa=r,t.push(s)),s};function Be(t,s){const r=s.type;if(r in t.g){var h=t.g[r],y=Array.prototype.indexOf.call(h,s,void 0),w;(w=y>=0)&&Array.prototype.splice.call(h,y,1),w&&(ye(s),t.g[r].length==0&&(delete t.g[r],t.h--))}}function Ue(t,s,r,h){for(let y=0;y<t.length;++y){const w=t[y];if(!w.da&&w.listener==s&&w.capture==!!r&&w.ha==h)return y}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),He={};function qn(t,s,r,h,y){if(Array.isArray(s)){for(let w=0;w<s.length;w++)qn(t,s[w],r,h,y);return null}return r=Xn(r),t&&t[Tt]?t.J(s,r,I(h)?!!h.capture:!1,y):Ir(t,s,r,!1,h,y)}function Ir(t,s,r,h,y,w){if(!s)throw Error("Invalid event type");const E=I(y)?!!y.capture:!!y;let S=Ge(t);if(S||(t[$e]=S=new we(t)),r=S.add(s,r,h,E,w),r.proxy)return r;if(h=vr(),r.proxy=h,h.src=t,h.listener=r,t.addEventListener)_||(y=E),y===void 0&&(y=!1),t.addEventListener(s.toString(),h,y);else if(t.attachEvent)t.attachEvent(Kn(s.toString()),h);else if(t.addListener&&t.removeListener)t.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return r}function vr(){function t(r){return s.call(t.src,t.listener,r)}const s=Er;return t}function Wn(t,s,r,h,y){if(Array.isArray(s))for(var w=0;w<s.length;w++)Wn(t,s[w],r,h,y);else h=I(h)?!!h.capture:!!h,r=Xn(r),t&&t[Tt]?(t=t.i,w=String(s).toString(),w in t.g&&(s=t.g[w],r=Ue(s,r,h,y),r>-1&&(ye(s[r]),Array.prototype.splice.call(s,r,1),s.length==0&&(delete t.g[w],t.h--)))):t&&(t=Ge(t))&&(s=t.g[s.toString()],t=-1,s&&(t=Ue(s,r,h,y)),(r=t>-1?s[t]:null)&&ze(r))}function ze(t){if(typeof t!="number"&&t&&!t.da){var s=t.src;if(s&&s[Tt])Be(s.i,t);else{var r=t.type,h=t.proxy;s.removeEventListener?s.removeEventListener(r,h,t.capture):s.detachEvent?s.detachEvent(Kn(r),h):s.addListener&&s.removeListener&&s.removeListener(h),(r=Ge(s))?(Be(r,t),r.h==0&&(r.src=null,s[$e]=null)):ye(t)}}}function Kn(t){return t in He?He[t]:He[t]="on"+t}function Er(t,s){if(t.da)t=!0;else{s=new W(s,this);const r=t.listener,h=t.ha||t.src;t.fa&&ze(t),t=r.call(h,s)}return t}function Ge(t){return t=t[$e],t instanceof we?t:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xn(t){return typeof t=="function"?t:(t[qe]||(t[qe]=function(s){return t.handleEvent(s)}),t[qe])}function $(){m.call(this),this.i=new we(this),this.M=this,this.G=null}b($,m),$.prototype[Tt]=!0,$.prototype.removeEventListener=function(t,s,r,h){Wn(this,t,s,r,h)};function H(t,s){var r,h=t.G;if(h)for(r=[];h;h=h.G)r.push(h);if(t=t.M,h=s.type||s,typeof s=="string")s=new p(s,t);else if(s instanceof p)s.target=s.target||t;else{var y=s;s=new p(h,t),Gn(s,y)}y=!0;let w,E;if(r)for(E=r.length-1;E>=0;E--)w=s.g=r[E],y=Ie(w,h,!0,s)&&y;if(w=s.g=t,y=Ie(w,h,!0,s)&&y,y=Ie(w,h,!1,s)&&y,r)for(E=0;E<r.length;E++)w=s.g=r[E],y=Ie(w,h,!1,s)&&y}$.prototype.N=function(){if($.Z.N.call(this),this.i){var t=this.i;for(const s in t.g){const r=t.g[s];for(let h=0;h<r.length;h++)ye(r[h]);delete t.g[s],t.h--}}this.G=null},$.prototype.J=function(t,s,r,h){return this.i.add(String(t),s,!1,r,h)},$.prototype.K=function(t,s,r,h){return this.i.add(String(t),s,!0,r,h)};function Ie(t,s,r,h){if(s=t.i.g[String(s)],!s)return!0;s=s.concat();let y=!0;for(let w=0;w<s.length;++w){const E=s[w];if(E&&!E.da&&E.capture==r){const S=E.listener,F=E.ha||E.src;E.fa&&Be(t.i,E),y=S.call(F,h)!==!1&&y}}return y&&!h.defaultPrevented}function Ar(t,s){if(typeof t!="function")if(t&&typeof t.handleEvent=="function")t=A(t.handleEvent,t);else throw Error("Invalid listener argument");return Number(s)>2147483647?-1:f.setTimeout(t,s||0)}function Jn(t){t.g=Ar(()=>{t.g=null,t.i&&(t.i=!1,Jn(t))},t.l);const s=t.h;t.h=null,t.m.apply(null,s)}class Tr extends m{constructor(s,r){super(),this.m=s,this.l=r,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(t){m.call(this),this.h=t,this.g={}}b(Gt,m);var Yn=[];function Zn(t){_e(t.g,function(s,r){this.g.hasOwnProperty(r)&&ze(s)},t),t.g={}}Gt.prototype.N=function(){Gt.Z.N.call(this),Zn(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=f.JSON.stringify,br=f.JSON.parse,Sr=class{stringify(t){return f.JSON.stringify(t,void 0)}parse(t){return f.JSON.parse(t,void 0)}};function Qn(){}function Cr(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){p.call(this,"d")}b(Ke,p);function Xe(){p.call(this,"c")}b(Xe,p);var Ft={},ti=null;function Je(){return ti=ti||new $}Ft.Ia="serverreachability";function ei(t){p.call(this,Ft.Ia,t)}b(ei,p);function Wt(t){const s=Je();H(s,new ei(s))}Ft.STAT_EVENT="statevent";function ni(t,s){p.call(this,Ft.STAT_EVENT,t),this.stat=s}b(ni,p);function z(t){const s=Je();H(s,new ni(s,t))}Ft.Ja="timingevent";function ii(t,s){p.call(this,Ft.Ja,t),this.size=s}b(ii,p);function Kt(t,s){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){t()},s)}function Xt(){this.g=!0}Xt.prototype.ua=function(){this.g=!1};function Dr(t,s,r,h,y,w){t.info(function(){if(t.g)if(w){var E="",S=w.split("&");for(let O=0;O<S.length;O++){var F=S[O].split("=");if(F.length>1){const B=F[0];F=F[1];const nt=B.split("_");E=nt.length>=2&&nt[1]=="type"?E+(B+"="+F+"&"):E+(B+"=redacted&")}}}else E=null;else E=w;return"XMLHTTP REQ ("+h+") [attempt "+y+"]: "+s+`
`+r+`
`+E})}function Pr(t,s,r,h,y,w,E){t.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+y+"]: "+s+`
`+r+`
`+w+" "+E})}function Vt(t,s,r,h){t.info(function(){return"XMLHTTP TEXT ("+s+"): "+Nr(t,r)+(h?" "+h:"")})}function Rr(t,s){t.info(function(){return"TIMEOUT: "+s})}Xt.prototype.info=function(){};function Nr(t,s){if(!t.g)return s;if(!s)return null;try{const w=JSON.parse(s);if(w){for(t=0;t<w.length;t++)if(Array.isArray(w[t])){var r=w[t];if(!(r.length<2)){var h=r[1];if(Array.isArray(h)&&!(h.length<1)){var y=h[0];if(y!="noop"&&y!="stop"&&y!="close")for(let E=1;E<h.length;E++)h[E]=""}}}}return We(w)}catch{return s}}var Ye={NO_ERROR:0,TIMEOUT:8},Or={},si;function Ze(){}b(Ze,Qn),Ze.prototype.g=function(){return new XMLHttpRequest},si=new Ze;function Jt(t){return encodeURIComponent(String(t))}function kr(t){var s=1;t=t.split(":");const r=[];for(;s>0&&t.length;)r.push(t.shift()),s--;return t.length&&r.push(t.join(":")),r}function dt(t,s,r,h){this.j=t,this.i=s,this.l=r,this.S=h||1,this.V=new Gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var oi={},Qe={};function tn(t,s,r){t.M=1,t.A=Ee(et(s)),t.u=r,t.R=!0,ai(t,null)}function ai(t,s){t.F=Date.now(),ve(t),t.B=et(t.A);var r=t.B,h=t.S;Array.isArray(h)||(h=[String(h)]),Ii(r.i,"t",h),t.C=0,r=t.j.L,t.h=new ri,t.g=Fi(t.j,r?s:null,!t.u),t.P>0&&(t.O=new Tr(A(t.Y,t,t.g),t.P)),s=t.V,r=t.g,h=t.ba;var y="readystatechange";Array.isArray(y)||(y&&(Yn[0]=y.toString()),y=Yn);for(let w=0;w<y.length;w++){const E=qn(r,y[w],h||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=t.J?Hn(t.J):{},t.u?(t.v||(t.v="POST"),s["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,s)):(t.v="GET",t.g.ea(t.B,t.v,null,s)),Wt(),Dr(t.i,t.v,t.B,t.l,t.S,t.u)}dt.prototype.ba=function(t){t=t.target;const s=this.O;s&&mt(t)==3?s.j():this.Y(t)},dt.prototype.Y=function(t){try{if(t==this.g)t:{const S=mt(this.g),F=this.g.ya(),O=this.g.ca();if(!(S<3)&&(S!=3||this.g&&(this.h.h||this.g.la()||Ci(this.g)))){this.K||S!=4||F==7||(F==8||O<=0?Wt(3):Wt(2)),en(this);var s=this.g.ca();this.X=s;var r=Mr(this);if(this.o=s==200,Pr(this.i,this.v,this.B,this.l,this.S,S,s),this.o){if(this.U&&!this.L){e:{if(this.g){var h,y=this.g;if((h=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(h)){var w=h;break e}}w=null}if(t=w)Vt(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nn(this,t);else{this.o=!1,this.m=3,z(12),bt(this),Yt(this);break t}}if(this.R){t=!0;let B;for(;!this.K&&this.C<r.length;)if(B=Lr(this,r),B==Qe){S==4&&(this.m=4,z(14),t=!1),Vt(this.i,this.l,null,"[Incomplete Response]");break}else if(B==oi){this.m=4,z(15),Vt(this.i,this.l,r,"[Invalid Chunk]"),t=!1;break}else Vt(this.i,this.l,B,null),nn(this,B);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),S!=4||r.length!=0||this.h.h||(this.m=1,z(16),t=!1),this.o=this.o&&t,!t)Vt(this.i,this.l,r,"[Invalid Chunked Response]"),bt(this),Yt(this);else if(r.length>0&&!this.W){this.W=!0;var E=this.j;E.g==this&&E.aa&&!E.P&&(E.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),un(E),E.P=!0,z(11))}}else Vt(this.i,this.l,r,null),nn(this,r);S==4&&bt(this),this.o&&!this.K&&(S==4?Mi(this.j,this):(this.o=!1,ve(this)))}else Xr(this.g),s==400&&r.indexOf("Unknown SID")>0?(this.m=3,z(12)):(this.m=0,z(13)),bt(this),Yt(this)}}}catch{}finally{}};function Mr(t){if(!hi(t))return t.g.la();const s=Ci(t.g);if(s==="")return"";let r="";const h=s.length,y=mt(t.g)==4;if(!t.h.i){if(typeof TextDecoder>"u")return bt(t),Yt(t),"";t.h.i=new f.TextDecoder}for(let w=0;w<h;w++)t.h.h=!0,r+=t.h.i.decode(s[w],{stream:!(y&&w==h-1)});return s.length=0,t.h.g+=r,t.C=0,t.h.g}function hi(t){return t.g?t.v=="GET"&&t.M!=2&&t.j.Aa:!1}function Lr(t,s){var r=t.C,h=s.indexOf(`
`,r);return h==-1?Qe:(r=Number(s.substring(r,h)),isNaN(r)?oi:(h+=1,h+r>s.length?Qe:(s=s.slice(h,h+r),t.C=h+r,s)))}dt.prototype.cancel=function(){this.K=!0,bt(this)};function ve(t){t.T=Date.now()+t.H,ci(t,t.H)}function ci(t,s){if(t.D!=null)throw Error("WatchDog timer not null");t.D=Kt(A(t.aa,t),s)}function en(t){t.D&&(f.clearTimeout(t.D),t.D=null)}dt.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(Wt(),z(17)),bt(this),this.m=2,Yt(this)):ci(this,this.T-t)};function Yt(t){t.j.I==0||t.K||Mi(t.j,t)}function bt(t){en(t);var s=t.O;s&&typeof s.dispose=="function"&&s.dispose(),t.O=null,Zn(t.V),t.g&&(s=t.g,t.g=null,s.abort(),s.dispose())}function nn(t,s){try{var r=t.j;if(r.I!=0&&(r.g==t||sn(r.h,t))){if(!t.L&&sn(r.h,t)&&r.I==3){try{var h=r.Ba.g.parse(s)}catch{h=null}if(Array.isArray(h)&&h.length==3){var y=h;if(y[0]==0){t:if(!r.v){if(r.g)if(r.g.F+3e3<t.F)Ce(r),be(r);else break t;ln(r),z(18)}}else r.xa=y[1],0<r.xa-r.K&&y[2]<37500&&r.F&&r.A==0&&!r.C&&(r.C=Kt(A(r.Va,r),6e3));fi(r.h)<=1&&r.ta&&(r.ta=void 0)}else Ct(r,11)}else if((t.L||r.g==t)&&Ce(r),!u(s))for(y=r.Ba.g.parse(s),s=0;s<y.length;s++){let O=y[s];const B=O[0];if(!(B<=r.K))if(r.K=B,O=O[1],r.I==2)if(O[0]=="c"){r.M=O[1],r.ba=O[2];const nt=O[3];nt!=null&&(r.ka=nt,r.j.info("VER="+r.ka));const Dt=O[4];Dt!=null&&(r.za=Dt,r.j.info("SVER="+r.za));const yt=O[5];yt!=null&&typeof yt=="number"&&yt>0&&(h=1.5*yt,r.O=h,r.j.info("backChannelRequestTimeoutMs_="+h)),h=r;const _t=t.g;if(_t){const De=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(De){var w=h.h;w.g||De.indexOf("spdy")==-1&&De.indexOf("quic")==-1&&De.indexOf("h2")==-1||(w.j=w.l,w.g=new Set,w.h&&(rn(w,w.h),w.h=null))}if(h.G){const fn=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(h.wa=fn,k(h.J,h.G,fn))}}r.I=3,r.l&&r.l.ra(),r.aa&&(r.T=Date.now()-t.F,r.j.info("Handshake RTT: "+r.T+"ms")),h=r;var E=t;if(h.na=ji(h,h.L?h.ba:null,h.W),E.L){di(h.h,E);var S=E,F=h.O;F&&(S.H=F),S.D&&(en(S),ve(S)),h.g=E}else Oi(h);r.i.length>0&&Se(r)}else O[0]!="stop"&&O[0]!="close"||Ct(r,7);else r.I==3&&(O[0]=="stop"||O[0]=="close"?O[0]=="stop"?Ct(r,7):cn(r):O[0]!="noop"&&r.l&&r.l.qa(O),r.A=0)}}Wt(4)}catch{}}var xr=class{constructor(t,s){this.g=t,this.map=s}};function li(t){this.l=t||10,f.PerformanceNavigationTiming?(t=f.performance.getEntriesByType("navigation"),t=t.length>0&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ui(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fi(t){return t.h?1:t.g?t.g.size:0}function sn(t,s){return t.h?t.h==s:t.g?t.g.has(s):!1}function rn(t,s){t.g?t.g.add(s):t.h=s}function di(t,s){t.h&&t.h==s?t.h=null:t.g&&t.g.has(s)&&t.g.delete(s)}li.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pi(t){if(t.h!=null)return t.i.concat(t.h.G);if(t.g!=null&&t.g.size!==0){let s=t.i;for(const r of t.g.values())s=s.concat(r.G);return s}return V(t.i)}var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(t,s){if(t){t=t.split("&");for(let r=0;r<t.length;r++){const h=t[r].indexOf("=");let y,w=null;h>=0?(y=t[r].substring(0,h),w=t[r].substring(h+1)):y=t[r],s(y,w?decodeURIComponent(w.replace(/\+/g," ")):"")}}}function pt(t){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let s;t instanceof pt?(this.l=t.l,Zt(this,t.j),this.o=t.o,this.g=t.g,Qt(this,t.u),this.h=t.h,on(this,vi(t.i)),this.m=t.m):t&&(s=String(t).match(gi))?(this.l=!1,Zt(this,s[1]||"",!0),this.o=te(s[2]||""),this.g=te(s[3]||"",!0),Qt(this,s[4]),this.h=te(s[5]||"",!0),on(this,s[6]||"",!0),this.m=te(s[7]||"")):(this.l=!1,this.i=new ne(null,this.l))}pt.prototype.toString=function(){const t=[];var s=this.j;s&&t.push(ee(s,mi,!0),":");var r=this.g;return(r||s=="file")&&(t.push("//"),(s=this.o)&&t.push(ee(s,mi,!0),"@"),t.push(Jt(r).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.u,r!=null&&t.push(":",String(r))),(r=this.h)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(ee(r,r.charAt(0)=="/"?Br:Vr,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.m)&&t.push("#",ee(r,$r)),t.join("")},pt.prototype.resolve=function(t){const s=et(this);let r=!!t.j;r?Zt(s,t.j):r=!!t.o,r?s.o=t.o:r=!!t.g,r?s.g=t.g:r=t.u!=null;var h=t.h;if(r)Qt(s,t.u);else if(r=!!t.h){if(h.charAt(0)!="/")if(this.g&&!this.h)h="/"+h;else{var y=s.h.lastIndexOf("/");y!=-1&&(h=s.h.slice(0,y+1)+h)}if(y=h,y==".."||y==".")h="";else if(y.indexOf("./")!=-1||y.indexOf("/.")!=-1){h=y.lastIndexOf("/",0)==0,y=y.split("/");const w=[];for(let E=0;E<y.length;){const S=y[E++];S=="."?h&&E==y.length&&w.push(""):S==".."?((w.length>1||w.length==1&&w[0]!="")&&w.pop(),h&&E==y.length&&w.push("")):(w.push(S),h=!0)}h=w.join("/")}else h=y}return r?s.h=h:r=t.i.toString()!=="",r?on(s,vi(t.i)):r=!!t.m,r&&(s.m=t.m),s};function et(t){return new pt(t)}function Zt(t,s,r){t.j=r?te(s,!0):s,t.j&&(t.j=t.j.replace(/:$/,""))}function Qt(t,s){if(s){if(s=Number(s),isNaN(s)||s<0)throw Error("Bad port number "+s);t.u=s}else t.u=null}function on(t,s,r){s instanceof ne?(t.i=s,Hr(t.i,t.l)):(r||(s=ee(s,Ur)),t.i=new ne(s,t.l))}function k(t,s,r){t.i.set(s,r)}function Ee(t){return k(t,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),t}function te(t,s){return t?s?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ee(t,s,r){return typeof t=="string"?(t=encodeURI(t).replace(s,Fr),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fr(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mi=/[#\/\?@]/g,Vr=/[#\?:]/g,Br=/[#\?]/g,Ur=/[#\?@]/g,$r=/#/g;function ne(t,s){this.h=this.g=null,this.i=t||null,this.j=!!s}function St(t){t.g||(t.g=new Map,t.h=0,t.i&&jr(t.i,function(s,r){t.add(decodeURIComponent(s.replace(/\+/g," ")),r)}))}n=ne.prototype,n.add=function(t,s){St(this),this.i=null,t=Bt(this,t);let r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(s),this.h+=1,this};function yi(t,s){St(t),s=Bt(t,s),t.g.has(s)&&(t.i=null,t.h-=t.g.get(s).length,t.g.delete(s))}function _i(t,s){return St(t),s=Bt(t,s),t.g.has(s)}n.forEach=function(t,s){St(this),this.g.forEach(function(r,h){r.forEach(function(y){t.call(s,y,h,this)},this)},this)};function wi(t,s){St(t);let r=[];if(typeof s=="string")_i(t,s)&&(r=r.concat(t.g.get(Bt(t,s))));else for(t=Array.from(t.g.values()),s=0;s<t.length;s++)r=r.concat(t[s]);return r}n.set=function(t,s){return St(this),this.i=null,t=Bt(this,t),_i(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[s]),this.h+=1,this},n.get=function(t,s){return t?(t=wi(this,t),t.length>0?String(t[0]):s):s};function Ii(t,s,r){yi(t,s),r.length>0&&(t.i=null,t.g.set(Bt(t,s),V(r)),t.h+=r.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],s=Array.from(this.g.keys());for(let h=0;h<s.length;h++){var r=s[h];const y=Jt(r);r=wi(this,r);for(let w=0;w<r.length;w++){let E=y;r[w]!==""&&(E+="="+Jt(r[w])),t.push(E)}}return this.i=t.join("&")};function vi(t){const s=new ne;return s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),s}function Bt(t,s){return s=String(s),t.j&&(s=s.toLowerCase()),s}function Hr(t,s){s&&!t.j&&(St(t),t.i=null,t.g.forEach(function(r,h){const y=h.toLowerCase();h!=y&&(yi(this,h),Ii(this,y,r))},t)),t.j=s}function zr(t,s){const r=new Xt;if(f.Image){const h=new Image;h.onload=R(gt,r,"TestLoadImage: loaded",!0,s,h),h.onerror=R(gt,r,"TestLoadImage: error",!1,s,h),h.onabort=R(gt,r,"TestLoadImage: abort",!1,s,h),h.ontimeout=R(gt,r,"TestLoadImage: timeout",!1,s,h),f.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=t}else s(!1)}function Gr(t,s){const r=new Xt,h=new AbortController,y=setTimeout(()=>{h.abort(),gt(r,"TestPingServer: timeout",!1,s)},1e4);fetch(t,{signal:h.signal}).then(w=>{clearTimeout(y),w.ok?gt(r,"TestPingServer: ok",!0,s):gt(r,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(y),gt(r,"TestPingServer: error",!1,s)})}function gt(t,s,r,h,y){try{y&&(y.onload=null,y.onerror=null,y.onabort=null,y.ontimeout=null),h(r)}catch{}}function qr(){this.g=new Sr}function an(t){this.i=t.Sb||null,this.h=t.ab||!1}b(an,Qn),an.prototype.g=function(){return new Ae(this.i,this.h)};function Ae(t,s){$.call(this),this.H=t,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ae,$),n=Ae.prototype,n.open=function(t,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=s,this.readyState=1,se(this)},n.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const s={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(s.body=t),(this.H||f).fetch(new Request(this.D,s)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ie(this)),this.readyState=0},n.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,se(this)),this.g&&(this.readyState=3,se(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ei(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ei(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}n.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var s=t.value?t.value:new Uint8Array(0);(s=this.B.decode(s,{stream:!t.done}))&&(this.response=this.responseText+=s)}t.done?ie(this):se(this),this.readyState==3&&Ei(this)}},n.Oa=function(t){this.g&&(this.response=this.responseText=t,ie(this))},n.Na=function(t){this.g&&(this.response=t,ie(this))},n.ga=function(){this.g&&ie(this)};function ie(t){t.readyState=4,t.l=null,t.j=null,t.B=null,se(t)}n.setRequestHeader=function(t,s){this.A.append(t,s)},n.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],s=this.h.entries();for(var r=s.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=s.next();return t.join(`\r
`)};function se(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ae.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Ai(t){let s="";return _e(t,function(r,h){s+=h,s+=":",s+=r,s+=`\r
`}),s}function hn(t,s,r){t:{for(h in r){var h=!1;break t}h=!0}h||(r=Ai(r),typeof t=="string"?r!=null&&Jt(r):k(t,s,r))}function L(t){$.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(L,$);var Wr=/^https?$/i,Kr=["POST","PUT"];n=L.prototype,n.Fa=function(t){this.H=t},n.ea=function(t,s,r,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);s=s?s.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():si.g(),this.g.onreadystatechange=T(A(this.Ca,this));try{this.B=!0,this.g.open(s,String(t),!0),this.B=!1}catch(w){Ti(this,w);return}if(t=r||"",r=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var y in h)r.set(y,h[y]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(const w of h.keys())r.set(w,h.get(w));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(r.keys()).find(w=>w.toLowerCase()=="content-type"),y=f.FormData&&t instanceof f.FormData,!(Array.prototype.indexOf.call(Kr,s,void 0)>=0)||h||y||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[w,E]of r)this.g.setRequestHeader(w,E);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(w){Ti(this,w)}};function Ti(t,s){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=s,t.o=5,bi(t),Te(t)}function bi(t){t.A||(t.A=!0,H(t,"complete"),H(t,"error"))}n.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,H(this,"complete"),H(this,"abort"),Te(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Te(this,!0)),L.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Si(this):this.Xa())},n.Xa=function(){Si(this)};function Si(t){if(t.h&&typeof c<"u"){if(t.v&&mt(t)==4)setTimeout(t.Ca.bind(t),0);else if(H(t,"readystatechange"),mt(t)==4){t.h=!1;try{const w=t.ca();t:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var r;if(!(r=s)){var h;if(h=w===0){let E=String(t.D).match(gi)[1]||null;!E&&f.self&&f.self.location&&(E=f.self.location.protocol.slice(0,-1)),h=!Wr.test(E?E.toLowerCase():"")}r=h}if(r)H(t,"complete"),H(t,"success");else{t.o=6;try{var y=mt(t)>2?t.g.statusText:""}catch{y=""}t.l=y+" ["+t.ca()+"]",bi(t)}}finally{Te(t)}}}}function Te(t,s){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const r=t.g;t.g=null,s||H(t,"ready");try{r.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function mt(t){return t.g?t.g.readyState:0}n.ca=function(){try{return mt(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(t){if(this.g){var s=this.g.responseText;return t&&s.indexOf(t)==0&&(s=s.substring(t.length)),br(s)}};function Ci(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Xr(t){const s={};t=(t.g&&mt(t)>=2&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<t.length;h++){if(u(t[h]))continue;var r=kr(t[h]);const y=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const w=s[y]||[];s[y]=w,w.push(r)}wr(s,function(h){return h.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function re(t,s,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||s}function Di(t){this.za=0,this.i=[],this.j=new Xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=re("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=re("baseRetryDelayMs",5e3,t),this.Za=re("retryDelaySeedMs",1e4,t),this.Ta=re("forwardChannelMaxRetries",2,t),this.va=re("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new li(t&&t.concurrentRequestLimit),this.Ba=new qr,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Di.prototype,n.ka=8,n.I=1,n.connect=function(t,s,r,h){z(0),this.W=t,this.H=s||{},r&&h!==void 0&&(this.H.OSID=r,this.H.OAID=h),this.F=this.X,this.J=ji(this,null,this.W),Se(this)};function cn(t){if(Pi(t),t.I==3){var s=t.V++,r=et(t.J);if(k(r,"SID",t.M),k(r,"RID",s),k(r,"TYPE","terminate"),oe(t,r),s=new dt(t,t.j,s),s.M=2,s.A=Ee(et(r)),r=!1,f.navigator&&f.navigator.sendBeacon)try{r=f.navigator.sendBeacon(s.A.toString(),"")}catch{}!r&&f.Image&&(new Image().src=s.A,r=!0),r||(s.g=Fi(s.j,null),s.g.ea(s.A)),s.F=Date.now(),ve(s)}xi(t)}function be(t){t.g&&(un(t),t.g.cancel(),t.g=null)}function Pi(t){be(t),t.v&&(f.clearTimeout(t.v),t.v=null),Ce(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&f.clearTimeout(t.m),t.m=null)}function Se(t){if(!ui(t.h)&&!t.m){t.m=!0;var s=t.Ea;ft||l(),J||(ft(),J=!0),g.add(s,t),t.D=0}}function Jr(t,s){return fi(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=s.G.concat(t.i),!0):t.I==1||t.I==2||t.D>=(t.Sa?0:t.Ta)?!1:(t.m=Kt(A(t.Ea,t,s),Li(t,t.D)),t.D++,!0)}n.Ea=function(t){if(this.m)if(this.m=null,this.I==1){if(!t){this.V=Math.floor(Math.random()*1e5),t=this.V++;const y=new dt(this,this.j,t);let w=this.o;if(this.U&&(w?(w=Hn(w),Gn(w,this.U)):w=this.U),this.u!==null||this.R||(y.J=w,w=null),this.S)t:{for(var s=0,r=0;r<this.i.length;r++){e:{var h=this.i[r];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break e}h=void 0}if(h===void 0)break;if(s+=h,s>4096){s=r;break t}if(s===4096||r===this.i.length-1){s=r+1;break t}}s=1e3}else s=1e3;s=Ni(this,y,s),r=et(this.J),k(r,"RID",t),k(r,"CVER",22),this.G&&k(r,"X-HTTP-Session-Id",this.G),oe(this,r),w&&(this.R?s="headers="+Jt(Ai(w))+"&"+s:this.u&&hn(r,this.u,w)),rn(this.h,y),this.Ra&&k(r,"TYPE","init"),this.S?(k(r,"$req",s),k(r,"SID","null"),y.U=!0,tn(y,r,null)):tn(y,r,s),this.I=2}}else this.I==3&&(t?Ri(this,t):this.i.length==0||ui(this.h)||Ri(this))};function Ri(t,s){var r;s?r=s.l:r=t.V++;const h=et(t.J);k(h,"SID",t.M),k(h,"RID",r),k(h,"AID",t.K),oe(t,h),t.u&&t.o&&hn(h,t.u,t.o),r=new dt(t,t.j,r,t.D+1),t.u===null&&(r.J=t.o),s&&(t.i=s.G.concat(t.i)),s=Ni(t,r,1e3),r.H=Math.round(t.va*.5)+Math.round(t.va*.5*Math.random()),rn(t.h,r),tn(r,h,s)}function oe(t,s){t.H&&_e(t.H,function(r,h){k(s,h,r)}),t.l&&_e({},function(r,h){k(s,h,r)})}function Ni(t,s,r){r=Math.min(t.i.length,r);const h=t.l?A(t.l.Ka,t.l,t):null;t:{var y=t.i;let S=-1;for(;;){const F=["count="+r];S==-1?r>0?(S=y[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let O=!0;for(let B=0;B<r;B++){var w=y[B].g;const nt=y[B].map;if(w-=S,w<0)S=Math.max(0,y[B].g-100),O=!1;else try{w="req"+w+"_"||"";try{var E=nt instanceof Map?nt:Object.entries(nt);for(const[Dt,yt]of E){let _t=yt;I(yt)&&(_t=We(yt)),F.push(w+Dt+"="+encodeURIComponent(_t))}}catch(Dt){throw F.push(w+"type="+encodeURIComponent("_badmap")),Dt}}catch{h&&h(nt)}}if(O){E=F.join("&");break t}}E=void 0}return t=t.i.splice(0,r),s.G=t,E}function Oi(t){if(!t.g&&!t.v){t.Y=1;var s=t.Da;ft||l(),J||(ft(),J=!0),g.add(s,t),t.A=0}}function ln(t){return t.g||t.v||t.A>=3?!1:(t.Y++,t.v=Kt(A(t.Da,t),Li(t,t.A)),t.A++,!0)}n.Da=function(){if(this.v=null,ki(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=Kt(A(this.Wa,this),t)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,z(10),be(this),ki(this))};function un(t){t.B!=null&&(f.clearTimeout(t.B),t.B=null)}function ki(t){t.g=new dt(t,t.j,"rpc",t.Y),t.u===null&&(t.g.J=t.o),t.g.P=0;var s=et(t.na);k(s,"RID","rpc"),k(s,"SID",t.M),k(s,"AID",t.K),k(s,"CI",t.F?"0":"1"),!t.F&&t.ia&&k(s,"TO",t.ia),k(s,"TYPE","xmlhttp"),oe(t,s),t.u&&t.o&&hn(s,t.u,t.o),t.O&&(t.g.H=t.O);var r=t.g;t=t.ba,r.M=1,r.A=Ee(et(s)),r.u=null,r.R=!0,ai(r,t)}n.Va=function(){this.C!=null&&(this.C=null,be(this),ln(this),z(19))};function Ce(t){t.C!=null&&(f.clearTimeout(t.C),t.C=null)}function Mi(t,s){var r=null;if(t.g==s){Ce(t),un(t),t.g=null;var h=2}else if(sn(t.h,s))r=s.G,di(t.h,s),h=1;else return;if(t.I!=0){if(s.o)if(h==1){r=s.u?s.u.length:0,s=Date.now()-s.F;var y=t.D;h=Je(),H(h,new ii(h,r)),Se(t)}else Oi(t);else if(y=s.m,y==3||y==0&&s.X>0||!(h==1&&Jr(t,s)||h==2&&ln(t)))switch(r&&r.length>0&&(s=t.h,s.i=s.i.concat(r)),y){case 1:Ct(t,5);break;case 4:Ct(t,10);break;case 3:Ct(t,6);break;default:Ct(t,2)}}}function Li(t,s){let r=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(r*=2),r*s}function Ct(t,s){if(t.j.info("Error code "+s),s==2){var r=A(t.bb,t),h=t.Ua;const y=!h;h=new pt(h||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Zt(h,"https"),Ee(h),y?zr(h.toString(),r):Gr(h.toString(),r)}else z(2);t.I=0,t.l&&t.l.pa(s),xi(t),Pi(t)}n.bb=function(t){t?(this.j.info("Successfully pinged google.com"),z(2)):(this.j.info("Failed to ping google.com"),z(1))};function xi(t){if(t.I=0,t.ja=[],t.l){const s=pi(t.h);(s.length!=0||t.i.length!=0)&&(j(t.ja,s),j(t.ja,t.i),t.h.i.length=0,V(t.i),t.i.length=0),t.l.oa()}}function ji(t,s,r){var h=r instanceof pt?et(r):new pt(r);if(h.g!="")s&&(h.g=s+"."+h.g),Qt(h,h.u);else{var y=f.location;h=y.protocol,s=s?s+"."+y.hostname:y.hostname,y=+y.port;const w=new pt(null);h&&Zt(w,h),s&&(w.g=s),y&&Qt(w,y),r&&(w.h=r),h=w}return r=t.G,s=t.wa,r&&s&&k(h,r,s),k(h,"VER",t.ka),oe(t,h),h}function Fi(t,s,r){if(s&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return s=t.Aa&&!t.ma?new L(new an({ab:r})):new L(t.ma),s.Fa(t.L),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vi(){}n=Vi.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Y(t,s){$.call(this),this.g=new Di(s),this.l=t,this.h=s&&s.messageUrlParams||null,t=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(t?t["X-WebChannel-Content-Type"]=s.messageContentType:t={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.sa&&(t?t["X-WebChannel-Client-Profile"]=s.sa:t={"X-WebChannel-Client-Profile":s.sa}),this.g.U=t,(t=s&&s.Qb)&&!u(t)&&(this.g.u=t),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!u(s)&&(this.g.G=s,t=this.h,t!==null&&s in t&&(t=this.h,s in t&&delete t[s])),this.j=new Ut(this)}b(Y,$),Y.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Y.prototype.close=function(){cn(this.g)},Y.prototype.o=function(t){var s=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=We(t),t=r);s.i.push(new xr(s.Ya++,t)),s.I==3&&Se(s)},Y.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,Y.Z.N.call(this)};function Bi(t){Ke.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var s=t.__sm__;if(s){t:{for(const r in s){t=r;break t}t=void 0}(this.i=t)&&(t=this.i,s=s!==null&&t in s?s[t]:void 0),this.data=s}else this.data=t}b(Bi,Ke);function Ui(){Xe.call(this),this.status=1}b(Ui,Xe);function Ut(t){this.g=t}b(Ut,Vi),Ut.prototype.ra=function(){H(this.g,"a")},Ut.prototype.qa=function(t){H(this.g,new Bi(t))},Ut.prototype.pa=function(t){H(this.g,new Ui)},Ut.prototype.oa=function(){H(this.g,"b")},Y.prototype.send=Y.prototype.o,Y.prototype.open=Y.prototype.m,Y.prototype.close=Y.prototype.close,Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,Or.COMPLETE="complete",Cr.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",$.prototype.listen=$.prototype.J,L.prototype.listenOnce=L.prototype.K,L.prototype.getLastError=L.prototype.Ha,L.prototype.getLastErrorCode=L.prototype.ya,L.prototype.getStatus=L.prototype.ca,L.prototype.getResponseJson=L.prototype.La,L.prototype.getResponseText=L.prototype.la,L.prototype.send=L.prototype.ea,L.prototype.setWithCredentials=L.prototype.Fa}).apply(typeof Pe<"u"?Pe:typeof self<"u"?self:typeof window<"u"?window:{});const cs="@firebase/firestore",ls="4.9.2";class G{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}G.UNAUTHENTICATED=new G(null),G.GOOGLE_CREDENTIALS=new G("google-credentials-uid"),G.FIRST_PARTY=new G("first-party-uid"),G.MOCK_USER=new G("mock-user");let ge="12.3.0";const zt=new Rn("@firebase/firestore");function tt(n,...e){if(zt.logLevel<=N.DEBUG){const i=e.map(Vn);zt.debug(`Firestore (${ge}): ${n}`,...i)}}function ar(n,...e){if(zt.logLevel<=N.ERROR){const i=e.map(Vn);zt.error(`Firestore (${ge}): ${n}`,...i)}}function ac(n,...e){if(zt.logLevel<=N.WARN){const i=e.map(Vn);zt.warn(`Firestore (${ge}): ${n}`,...i)}}function Vn(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function de(n,e,i){let o="Unexpected state";typeof e=="string"?o=e:i=e,hr(n,o,i)}function hr(n,e,i){let o=`FIRESTORE (${ge}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(i!==void 0)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw ar(o),new Error(o)}function he(n,e,i,o){let a="Unexpected state";typeof i=="string"?a=i:o=i,n||hr(e,a,o)}const D={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class P extends At{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ce{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cr{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(G.UNAUTHENTICATED)))}shutdown(){}}class cc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lc{constructor(e){this.t=e,this.currentUser=G.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){he(this.o===void 0,42304);let o=this.i;const a=v=>this.i!==o?(o=this.i,i(v)):Promise.resolve();let c=new ce;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ce,e.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await a(this.currentUser)}))},I=v=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>I(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?I(v):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ce)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((o=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(he(typeof o.accessToken=="string",31837,{l:o}),new cr(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new G(e)}}class uc{constructor(e,i,o){this.P=e,this.T=i,this.I=o,this.type="FirstParty",this.user=G.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fc{constructor(e,i,o){this.P=e,this.T=i,this.I=o}getToken(){return Promise.resolve(new uc(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(G.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class us{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dc{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ta(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){he(this.o===void 0,3512);const o=c=>{c.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,tt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>o(c)))};const a=c=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new us(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(he(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new us(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pc(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let o=0;o<n;o++)i[o]=Math.floor(256*Math.random());return i}class gc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=pc(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<i&&(o+=e.charAt(a[c]%62))}return o}}function Et(n,e){return n<e?-1:n>e?1:0}function mc(n,e){const i=Math.min(n.length,e.length);for(let o=0;o<i;o++){const a=n.charAt(o),c=e.charAt(o);if(a!==c)return In(a)===In(c)?Et(a,c):In(a)?1:-1}return Et(n.length,e.length)}const yc=55296,_c=57343;function In(n){const e=n.charCodeAt(0);return e>=yc&&e<=_c}const fs="__name__";class it{constructor(e,i,o){i===void 0?i=0:i>e.length&&de(637,{offset:i,range:e.length}),o===void 0?o=e.length-i:o>e.length-i&&de(1746,{length:o,range:e.length-i}),this.segments=e,this.offset=i,this.len=o}get length(){return this.len}isEqual(e){return it.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof it?e.forEach((o=>{i.push(o)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,o=this.limit();i<o;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const o=Math.min(e.length,i.length);for(let a=0;a<o;a++){const c=it.compareSegments(e.get(a),i.get(a));if(c!==0)return c}return Et(e.length,i.length)}static compareSegments(e,i){const o=it.isNumericId(e),a=it.isNumericId(i);return o&&!a?-1:!o&&a?1:o&&a?it.extractNumericId(e).compare(it.extractNumericId(i)):mc(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fn.fromString(e.substring(4,e.length-2))}}class Q extends it{construct(e,i,o){return new Q(e,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const o of e){if(o.indexOf("//")>=0)throw new P(D.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter((a=>a.length>0)))}return new Q(i)}static emptyPath(){return new Q([])}}const wc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends it{construct(e,i,o){return new Rt(e,i,o)}static isValidIdentifier(e){return wc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fs}static keyField(){return new Rt([fs])}static fromServerFormat(e){const i=[];let o="",a=0;const c=()=>{if(o.length===0)throw new P(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let f=!1;for(;a<e.length;){const I=e[a];if(I==="\\"){if(a+1===e.length)throw new P(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new P(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,a+=2}else I==="`"?(f=!f,a++):I!=="."||f?(o+=I,a++):(c(),a++)}if(c(),f)throw new P(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(i)}static emptyPath(){return new Rt([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(Q.fromString(e))}static fromName(e){return new Ot(Q.fromString(e).popFirst(5))}static empty(){return new Ot(Q.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Q.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Q.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new Q(e.slice()))}}function Ic(n,e,i,o){if(e===!0&&o===!0)throw new P(D.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function vc(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ec(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(o){return o.constructor?o.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":de(12329,{type:typeof n})}function Ac(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new P(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ec(n);throw new P(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}function x(n,e){const i={typeString:n};return e&&(i.value=e),i}function me(n,e){if(!vc(n))throw new P(D.INVALID_ARGUMENT,"JSON must be an object");let i;for(const o in e)if(e[o]){const a=e[o].typeString,c="value"in e[o]?{value:e[o].value}:void 0;if(!(o in n)){i=`JSON missing required field: '${o}'`;break}const f=n[o];if(a&&typeof f!==a){i=`JSON field '${o}' must be a ${a}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${o}' field to equal '${c.value}'`;break}}if(i)throw new P(D.INVALID_ARGUMENT,i);return!0}const ds=-62135596800,ps=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),o=Math.floor((e-1e3*i)*ps);return new st(i,o)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new P(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new P(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ds)throw new P(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ps}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(me(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ds;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:x("string",st._jsonSchemaVersion),seconds:x("number"),nanoseconds:x("number")};function Tc(n){return n.name==="IndexedDbTransactionError"}class bc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bc("Invalid base64 string: "+c):c}})(e);return new jt(i)}static fromUint8Array(e){const i=(function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c})(e);return new jt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const o=new Uint8Array(i.length);for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const Dn="(default)";class xe{constructor(e,i){this.projectId=e,this.database=i||Dn}static empty(){return new xe("","")}get isDefaultDatabase(){return this.database===Dn}isEqual(e){return e instanceof xe&&e.projectId===this.projectId&&e.database===this.database}}class Sc{constructor(e,i=null,o=[],a=[],c=null,f="F",I=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=f,this.startAt=I,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cc(n){return new Sc(n)}var gs,C;(C=gs||(gs={}))[C.OK=0]="OK",C[C.CANCELLED=1]="CANCELLED",C[C.UNKNOWN=2]="UNKNOWN",C[C.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",C[C.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",C[C.NOT_FOUND=5]="NOT_FOUND",C[C.ALREADY_EXISTS=6]="ALREADY_EXISTS",C[C.PERMISSION_DENIED=7]="PERMISSION_DENIED",C[C.UNAUTHENTICATED=16]="UNAUTHENTICATED",C[C.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",C[C.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",C[C.ABORTED=10]="ABORTED",C[C.OUT_OF_RANGE=11]="OUT_OF_RANGE",C[C.UNIMPLEMENTED=12]="UNIMPLEMENTED",C[C.INTERNAL=13]="INTERNAL",C[C.UNAVAILABLE=14]="UNAVAILABLE",C[C.DATA_LOSS=15]="DATA_LOSS";new Fn([4294967295,4294967295],0);const Dc=41943040;const Pc=1048576;function vn(){return typeof document<"u"?document:null}class Rc{constructor(e,i,o=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=o,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),a=Math.max(0,i-o);a>0&&tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class Bn{constructor(e,i,o,a,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new ce,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,o,a,c){const f=Date.now()+o,I=new Bn(e,i,f,a,c);return I.start(o),I}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var ms,ys;(ys=ms||(ms={})).Ma="default",ys.Cache="cache";function Nc(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const _s=new Map;const lr="firestore.googleapis.com",ws=!0;class Is{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new P(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lr,this.ssl=ws}else this.host=e.host,this.ssl=e.ssl??ws;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dc;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pc)throw new P(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ic("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nc(e.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new P(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new P(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new P(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(o,a){return o.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ur{constructor(e,i,o,a){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Is({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new P(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new P(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Is(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new hc;switch(o.type){case"firstParty":return new fc(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new P(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const o=_s.get(i);o&&(tt("ComponentProvider","Removing Datastore"),_s.delete(i),o.terminate())})(this),Promise.resolve()}}function Oc(n,e,i,o={}){n=Ac(n,ur);const a=Rs(e),c=n._getSettings(),f={...c,emulatorOptions:n._getEmulatorOptions()},I=`${e}:${i}`;a&&(go(`https://${I}`),wo("Firestore",!0)),c.host!==lr&&c.host!==I&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:I,ssl:a,emulatorOptions:o};if(!ue(v,f)&&(n._setSettings(v),o.mockUserToken)){let A,R;if(typeof o.mockUserToken=="string")A=o.mockUserToken,R=G.MOCK_USER;else{A=mo(o.mockUserToken,n._app?.options.projectId);const b=o.mockUserToken.sub||o.mockUserToken.user_id;if(!b)throw new P(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new G(b)}n._authCredentials=new cc(new cr(A,R))}}class Un{constructor(e,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class rt{constructor(e,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $n(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,o){if(me(i,rt._jsonSchema))return new rt(e,o||null,new Ot(Q.fromString(i.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:x("string",rt._jsonSchemaVersion),referencePath:x("string")};class $n extends Un{constructor(e,i,o){super(e,i,Cc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new Ot(e))}withConverter(e){return new $n(this.firestore,e,this._path)}}const vs="AsyncQueue";class Es{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rc(this,"async_queue_retry"),this._c=()=>{const o=vn();o&&tt(vs,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const i=vn();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=vn();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ce;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tc(e))throw e;tt(vs,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((o=>{throw this.nc=o,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",As(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=i,i}enqueueAfterDelay(e,i,o){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const a=Bn.createAndSchedule(this,e,i,o,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&de(47125,{Pc:As(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,o)=>i.targetTimeMs-o.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function As(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class kc extends ur{constructor(e,i,o,a){super(e,i,o,a),this.type="firestore",this._queue=new Es,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Es(e),this._firestoreClient=void 0,await e}}}function Mc(n,e){const i=typeof n=="object"?n:js(),o=typeof n=="string"?n:Dn,a=pe(i,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=fo("firestore");c&&Oc(a,...c)}return a}class ht{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ht(jt.fromBase64String(e))}catch(i){throw new P(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ht(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ht._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(me(e,ht._jsonSchema))return ht.fromBase64String(e.bytes)}}ht._jsonSchemaVersion="firestore/bytes/1.0",ht._jsonSchema={type:x("string",ht._jsonSchemaVersion),bytes:x("string")};class fr{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new P(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kt{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new P(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new P(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kt._jsonSchemaVersion}}static fromJSON(e){if(me(e,kt._jsonSchema))return new kt(e.latitude,e.longitude)}}kt._jsonSchemaVersion="firestore/geoPoint/1.0",kt._jsonSchema={type:x("string",kt._jsonSchemaVersion),latitude:x("number"),longitude:x("number")};class Mt{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(me(e,Mt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Mt(e.vectorValues);throw new P(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mt._jsonSchemaVersion="firestore/vectorValue/1.0",Mt._jsonSchema={type:x("string",Mt._jsonSchemaVersion),vectorValues:x("object")};const Lc=new RegExp("[~\\*/\\[\\]]");function xc(n,e,i){if(e.search(Lc)>=0)throw Ts(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new fr(...e.split("."))._internalPath}catch{throw Ts(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Ts(n,e,i,o,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new P(D.INVALID_ARGUMENT,c+n+f)}class dr{constructor(e,i,o,a,c){this._firestore=e,this._userDataWriter=i,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jc extends dr{data(){return super.data()}}function pr(n,e){return typeof e=="string"?xc(n,e):e instanceof fr?e._internalPath:e._delegate._internalPath}class Re{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ht extends dr{constructor(e,i,o,a,c,f){super(e,i,o,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ne(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const o=this._document.data.field(pr("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new P(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ht._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ht._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ht._jsonSchema={type:x("string",Ht._jsonSchemaVersion),bundleSource:x("string","DocumentSnapshot"),bundleName:x("string"),bundle:x("string")};class Ne extends Ht{data(e={}){return super.data(e)}}class le{constructor(e,i,o,a){this._firestore=e,this._userDataWriter=i,this._snapshot=a,this.metadata=new Re(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((o=>{e.call(i,new Ne(this._firestore,this._userDataWriter,o.key,o,new Re(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new P(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((I=>{const v=new Ne(a._firestore,a._userDataWriter,I.doc.key,I.doc,new Re(a._snapshot.mutatedKeys.has(I.doc.key),a._snapshot.fromCache),a.query.converter);return I.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((I=>c||I.type!==3)).map((I=>{const v=new Ne(a._firestore,a._userDataWriter,I.doc.key,I.doc,new Re(a._snapshot.mutatedKeys.has(I.doc.key),a._snapshot.fromCache),a.query.converter);let A=-1,R=-1;return I.type!==0&&(A=f.indexOf(I.doc.key),f=f.delete(I.doc.key)),I.type!==1&&(f=f.add(I.doc),R=f.indexOf(I.doc.key)),{type:Fc(I.type),doc:v,oldIndex:A,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new P(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=le._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],o=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),o.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fc(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:n})}}le._jsonSchemaVersion="firestore/querySnapshot/1.0",le._jsonSchema={type:x("string",le._jsonSchemaVersion),bundleSource:x("string","QuerySnapshot"),bundleName:x("string"),bundle:x("string")};(function(e,i=!0){(function(a){ge=a})(Ca),vt(new ct("firestore",((o,{instanceIdentifier:a,options:c})=>{const f=o.getProvider("app").getImmediate(),I=new kc(new lc(o.getProvider("auth-internal")),new dc(f,o.getProvider("app-check-internal")),(function(A,R){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new P(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xe(A.options.projectId,R)})(f,a),f);return c={useFetchStreams:i,...c},I._setSettings(c),I}),"PUBLIC").setMultipleInstances(!0)),ot(cs,ls,e),ot(cs,ls,"esm2020")})();const Vc={apiKey:"AIzaSyAbkJpVWRXfOuG-VDp0dC0oGkPKo9VCZD0",authDomain:"fishburger-system.firebaseapp.com",projectId:"fishburger-system",storageBucket:"fishburger-system.firebasestorage.app",messagingSenderId:"1011829893886",appId:"1:1011829893886:web:626820e2eb475b2b45d3af",measurementId:"G-LHF8XPTL3G"},gr=xs(Vc);nc(gr);const mr=Mc(gr);window.addTestOrder=async function(){try{await Yr(bs(mr,"orders"),{customerName:"Customer #"+Math.floor(Math.random()*1e3),items:["Burger","Fries"],status:"Pending",createdAt:Zr()}),console.log("Test order added!")}catch(n){console.error("Error adding order: ",n),alert("Error adding order: "+n.message)}};const Bc=Qr(bs(mr,"orders"),to("createdAt","desc"));eo(Bc,n=>{const e=n.docs.map(i=>({id:i.id,...i.data()}));Uc(e)},n=>{console.error("Firebase Snapshot Error:",n)});function Uc(n){const e=document.getElementById("kitchen-list");if(e){if(n.length===0){e.innerHTML='<p style="color: var(--text-muted);">No active orders.</p>';return}e.innerHTML=n.map(i=>`
                <div class="card" style="border-left: 4px solid var(--warning);">
                    <div class="card-header">
                        <div>${i.customerName||"Unknown"}</div>
                        <span class="badge bg-orange">${i.status||"Pending"}</span>
                    </div>
                    <div class="card-body">
                        <p><i class="fas fa-hamburger"></i> ${Array.isArray(i.items)?i.items.join(", "):i.items}</p>
                        <p style="font-size: 0.8rem; margin-top: 10px;">ID: ${i.id}</p>
                    </div>
                </div>
            `).join("")}}
